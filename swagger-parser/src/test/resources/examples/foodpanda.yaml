swagger: "2.0"

info:
  title: FoodPanda API for search
  description: Provides functionalities to search populated in Elasticsearch instances
  version: "0.0.1"

basePath: /api

schemes:
  - http
  - https

produces:
  - application/json

x-api-first-package: com.foodpanda.popsey.api

paths:
  /vendors:
    x-swagger-router-controller: vendor
    get:
      operationId: searchVendors
      description: Common vendor search
      parameters:
        - name: query
          description: Complex query object
          in: body
          required: true
          schema:
            $ref: "#/definitions/VendorQuery"
      responses:
        '200':
          description: List of vendors found
          schema:
            type: integer
            format: int32

# complex objects have schema definitions
definitions:

  VendorQuery:
    type: object
    properties:
      vendor_codes:
        type: array
        items:
          type: string
      includes:
        type: string
        enum:
          - menus
          - payments

  VendorsResponse:
    type: object
    required:
      - total_hits
    properties:
      total_hits:
        type: integer
        format: int32
        minimum: 0
      vendors:
        type: array
        items:
          $ref: '#/definitions/Vendor'

  Vendor:
    type: object
    required:
      - id
    properties:
      id:
        type: integer
        format: int64
        minimum: 1
      location:
        $ref: '#/definitions/Location'

  Location:
    type: object
    required:
      - latitude
      - longitude
    properties:
      latitude:
        type: number
        format: float
        minimum: -90
        maximum: 90
      longitude:
        type: number
        format: float
        minimum: -180
        maximum: 180
